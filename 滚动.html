<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			*{
	          margin: 0;
	          padding: 0;
			}
			.box{
				position: relative;
				width: 100%;
				height: 30px;
				background: #ccc;
				overflow: hidden;
			}
			.box1{
				position: absolute;
				right: -100%;
				width: 100%;
				background: red;
				line-height: 30px;
				 
			}
		</style>
	</head>
	<body>
		
		<div class=" box" id="box">
			<p class=" box1" id="box1">11111</p>
		</div>
		
		
		
		
		<script type="text/javascript">
			
			
			
			var od = document.getElementById("box");
            var op = document.getElementById("box1");
            var odw = od.style.width;
            var opw  = op.style.width;;
            
            //alert(od.offsetWidth)
            var hh =  odw + opw;
            //alert(hh)
            od.onclick = function(){
            	
            	   move(op,10, hh,"left");
            	  // odw + opw
            	  //
            	
            }
         
            
           
        function move(obj,tag,stopValue,attr,fun) {
            tag = stopValue > parseInt(getStyle(obj,attr)) ? tag : -tag;
            clearInterval(obj.timer);
            obj.timer = setInterval(function () {
                var speed = parseInt(getStyle(obj,attr)) + tag;
                if(speed<=stopValue&&tag<0||speed>=stopValue&&tag>0){
                    speed = stopValue;
                }
                obj.style[attr] = speed + "px";
                if(speed == stopValue){
                    clearInterval(obj.timer);
                    //有回调函数调用 && 全真为真，第一个为假，不会往下执行
                   fun && fun();//当运动完成以后执行的函数
                }
            },30);
        }

      
        function getStyle(obj, attr){  
         return obj.currentStyle ? obj.currentStyle[attr] : getComputedStyle(obj, null)[attr];  
	}  
    </script>
</head>

		</script>
	</body>
</html>
